<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>July - Luxury Sneakers</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&amp;family=Montserrat:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">
  <script src="/_sdk/data_sdk.js"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
    }
    .font-serif { font-family: 'Cormorant Garamond', serif; }
    .font-sans { font-family: 'Montserrat', sans-serif; }
    
    .slide-enter { animation: slideIn 0.5s ease-out; }
    @keyframes slideIn {
      from { opacity: 0; transform: translateX(30px); }
      to { opacity: 1; transform: translateX(0); }
    }
    
    .fade-in { animation: fadeIn 0.3s ease-out; }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    .cart-slide {
      animation: cartSlide 0.3s ease-out;
    }
    @keyframes cartSlide {
      from { transform: translateX(100%); }
      to { transform: translateX(0); }
    }
    
    .hero-carousel {
      transition: transform 0.6s ease-in-out;
    }
    
    .wishlist-heart.active svg {
      fill: #e53e3e;
      stroke: #e53e3e;
    }
    
    input:focus, textarea:focus, select:focus {
      outline: none;
      border-color: #1A1A1A;
    }
    
    .product-card:hover .product-image {
      transform: scale(1.05);
    }
    
    .product-image {
      transition: transform 0.3s ease;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body class="h-full font-sans bg-[#F5EFE6] text-[#1A1A1A]">
  <div id="app" class="h-full w-full overflow-auto"><!-- Announcement Bar -->
   <div class="bg-[#1A1A1A] text-white text-center py-2 text-xs tracking-widest font-light"><span id="announcement-text">FREE SHIPPING ON ORDERS OVER $150 | REFER A FRIEND &amp; GET 20% OFF</span>
   </div><!-- Header -->
   <header class="sticky top-0 z-50 bg-[#F5EFE6]/95 backdrop-blur-sm border-b border-[#1A1A1A]/10">
    <div class="max-w-7xl mx-auto px-4 py-4">
     <div class="flex items-center justify-between"><!-- Mobile Menu Button --> <button id="mobile-menu-btn" class="lg:hidden p-2">
       <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 6h16M4 12h16M4 18h16" />
       </svg></button> <!-- Logo --> <a href="#" onclick="navigateTo('home')" class="font-serif text-3xl font-semibold tracking-wider"> <span id="brand-name">JULY</span> </a> <!-- Desktop Navigation -->
      <nav class="hidden lg:flex items-center space-x-8 text-sm tracking-wide"><a href="#" onclick="navigateTo('home')" class="hover:opacity-60 transition">HOME</a> <a href="#" onclick="navigateTo('category', 'men')" class="hover:opacity-60 transition">MEN</a> <a href="#" onclick="navigateTo('category', 'women')" class="hover:opacity-60 transition">WOMEN</a> <a href="#" onclick="navigateTo('category', 'kids')" class="hover:opacity-60 transition">KIDS</a> <a href="#" onclick="navigateTo('collection')" class="hover:opacity-60 transition">COLLECTION</a> <a href="#" onclick="navigateTo('about')" class="hover:opacity-60 transition">ABOUT</a> <a href="#" onclick="navigateTo('contact')" class="hover:opacity-60 transition">CONTACT</a>
      </nav><!-- Icons -->
      <div class="flex items-center space-x-4"><button onclick="toggleSearch()" class="p-2 hover:opacity-60 transition">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
        </svg></button> <button onclick="toggleWishlist()" class="p-2 hover:opacity-60 transition relative">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
        </svg><span id="wishlist-count" class="absolute -top-1 -right-1 bg-[#1A1A1A] text-white text-xs w-4 h-4 rounded-full flex items-center justify-center hidden">0</span> </button> <button onclick="toggleProfile()" class="p-2 hover:opacity-60 transition">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
        </svg></button> <button onclick="toggleCart()" class="p-2 hover:opacity-60 transition relative">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
        </svg><span id="cart-count" class="absolute -top-1 -right-1 bg-[#1A1A1A] text-white text-xs w-4 h-4 rounded-full flex items-center justify-center hidden">0</span> </button>
      </div>
     </div><!-- Search Bar -->
     <div id="search-bar" class="hidden mt-4 pb-2">
      <div class="relative"><input type="text" id="search-input" placeholder="Search sneakers..." class="w-full bg-white border border-[#1A1A1A]/20 px-4 py-3 text-sm rounded-sm focus:border-[#1A1A1A]" oninput="handleSearch(this.value)"> <button onclick="toggleSearch()" class="absolute right-3 top-1/2 -translate-y-1/2">
        <svg class="w-5 h-5 opacity-50" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 18L18 6M6 6l12 12" />
        </svg></button>
      </div>
      <div id="search-results" class="absolute left-0 right-0 bg-white shadow-lg mt-1 max-h-96 overflow-auto hidden z-50"></div>
     </div>
    </div><!-- Mobile Navigation -->
    <div id="mobile-menu" class="hidden lg:hidden bg-[#F5EFE6] border-t border-[#1A1A1A]/10">
     <nav class="flex flex-col px-4 py-4 space-y-4 text-sm"><a href="#" onclick="navigateTo('home'); closeMobileMenu()" class="py-2 border-b border-[#1A1A1A]/10">HOME</a> <a href="#" onclick="navigateTo('category', 'men'); closeMobileMenu()" class="py-2 border-b border-[#1A1A1A]/10">MEN</a> <a href="#" onclick="navigateTo('category', 'women'); closeMobileMenu()" class="py-2 border-b border-[#1A1A1A]/10">WOMEN</a> <a href="#" onclick="navigateTo('category', 'kids'); closeMobileMenu()" class="py-2 border-b border-[#1A1A1A]/10">KIDS</a> <a href="#" onclick="navigateTo('collection'); closeMobileMenu()" class="py-2 border-b border-[#1A1A1A]/10">COLLECTION</a> <a href="#" onclick="navigateTo('about'); closeMobileMenu()" class="py-2 border-b border-[#1A1A1A]/10">ABOUT</a> <a href="#" onclick="navigateTo('contact'); closeMobileMenu()" class="py-2">CONTACT</a>
     </nav>
    </div>
   </header><!-- Main Content -->
   <main id="main-content"><!-- Home Page Content will be rendered here -->
   </main><!-- Cart Sidebar -->
   <div id="cart-sidebar" class="fixed inset-0 z-50 hidden">
    <div class="absolute inset-0 bg-black/50" onclick="toggleCart()"></div>
    <div class="absolute right-0 top-0 h-full w-full max-w-md bg-white cart-slide overflow-auto">
     <div class="p-6">
      <div class="flex items-center justify-between mb-6">
       <h2 class="font-serif text-2xl">Your Cart</h2><button onclick="toggleCart()" class="p-2">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 18L18 6M6 6l12 12" />
        </svg></button>
      </div>
      <div id="cart-items" class="space-y-4"><!-- Cart items rendered here -->
      </div>
      <div id="cart-empty" class="text-center py-12 hidden">
       <svg class="w-16 h-16 mx-auto mb-4 opacity-30" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
       </svg>
       <p class="text-sm opacity-60">Your cart is empty</p>
      </div>
      <div id="cart-footer" class="mt-6 pt-6 border-t border-[#1A1A1A]/10">
       <div class="flex justify-between mb-4"><span class="font-medium">Subtotal</span> <span id="cart-total" class="font-semibold">$0.00</span>
       </div><button onclick="checkout()" class="w-full bg-[#1A1A1A] text-white py-4 text-sm tracking-wider hover:bg-[#333] transition"> CHECKOUT </button>
      </div>
     </div>
    </div>
   </div><!-- Wishlist Sidebar -->
   <div id="wishlist-sidebar" class="fixed inset-0 z-50 hidden">
    <div class="absolute inset-0 bg-black/50" onclick="toggleWishlist()"></div>
    <div class="absolute right-0 top-0 h-full w-full max-w-md bg-white cart-slide overflow-auto">
     <div class="p-6">
      <div class="flex items-center justify-between mb-6">
       <h2 class="font-serif text-2xl">Wishlist</h2><button onclick="toggleWishlist()" class="p-2">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 18L18 6M6 6l12 12" />
        </svg></button>
      </div>
      <div id="wishlist-items" class="space-y-4"><!-- Wishlist items rendered here -->
      </div>
      <div id="wishlist-empty" class="text-center py-12">
       <svg class="w-16 h-16 mx-auto mb-4 opacity-30" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
       </svg>
       <p class="text-sm opacity-60">Your wishlist is empty</p>
      </div>
     </div>
    </div>
   </div><!-- Profile Modal -->
   <div id="profile-modal" class="fixed inset-0 z-50 hidden">
    <div class="absolute inset-0 bg-black/50" onclick="toggleProfile()"></div>
    <div class="absolute right-4 top-20 w-80 bg-white shadow-xl rounded-sm fade-in">
     <div class="p-6">
      <div class="flex items-center justify-between mb-4">
       <h3 class="font-serif text-xl">My Account</h3><button onclick="toggleProfile()" class="p-1 hover:opacity-60 transition">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 18L18 6M6 6l12 12" />
        </svg></button>
      </div>
      <div id="profile-content">
       <form onsubmit="saveProfile(event)" class="space-y-4">
        <div><label for="profile-name" class="block text-sm mb-2">Name *</label> <input type="text" id="profile-name" placeholder="Your Name" required class="w-full border border-[#1A1A1A]/20 px-4 py-3 text-sm">
        </div>
        <div><label for="profile-email" class="block text-sm mb-2">Email Address *</label> <input type="email" id="profile-email" placeholder="Email Address" required class="w-full border border-[#1A1A1A]/20 px-4 py-3 text-sm">
        </div><button type="submit" class="w-full bg-[#1A1A1A] text-white py-3 text-sm tracking-wider hover:bg-[#333] transition"> SAVE PROFILE </button>
       </form>
       <div class="mt-6 pt-6 border-t border-[#1A1A1A]/10 space-y-3"><a href="#" onclick="navigateTo('orders'); toggleProfile()" class="block text-sm hover:opacity-60">Order History</a> <a href="#" onclick="toggleWishlist(); toggleProfile()" class="block text-sm hover:opacity-60">My Wishlist</a> <a href="#" onclick="navigateTo('contact'); toggleProfile()" class="block text-sm hover:opacity-60">Help &amp; Support</a>
       </div>
      </div>
     </div>
    </div>
   </div><!-- Footer -->
   <footer class="bg-[#1A1A1A] text-white mt-20">
    <div class="max-w-7xl mx-auto px-4 py-16">
     <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12">
      <div>
       <h3 class="font-serif text-2xl mb-6" id="footer-brand">JULY</h3>
       <p class="text-sm opacity-70 leading-relaxed">Luxury sneakers crafted for those who appreciate timeless elegance and uncompromising quality.</p>
      </div>
      <div>
       <h4 class="text-sm tracking-wider mb-6">SHOP</h4>
       <ul class="space-y-3 text-sm opacity-70">
        <li><a href="#" onclick="navigateTo('category', 'men')" class="hover:opacity-100 transition">Men's Collection</a></li>
        <li><a href="#" onclick="navigateTo('category', 'women')" class="hover:opacity-100 transition">Women's Collection</a></li>
        <li><a href="#" onclick="navigateTo('category', 'kids')" class="hover:opacity-100 transition">Kids' Collection</a></li>
        <li><a href="#" onclick="navigateTo('collection')" class="hover:opacity-100 transition">New Arrivals</a></li>
        <li><a href="#" onclick="navigateTo('bestsellers')" class="hover:opacity-100 transition">Best Sellers</a></li>
       </ul>
      </div>
      <div>
       <h4 class="text-sm tracking-wider mb-6">HELP</h4>
       <ul class="space-y-3 text-sm opacity-70">
        <li><a href="#" onclick="navigateTo('contact')" class="hover:opacity-100 transition">Contact Us</a></li>
        <li><a href="#" onclick="navigateTo('faq')" class="hover:opacity-100 transition">FAQ</a></li>
        <li><a href="#" onclick="navigateTo('shipping')" class="hover:opacity-100 transition">Shipping &amp; Returns</a></li>
        <li><a href="#" onclick="navigateTo('size-guide')" class="hover:opacity-100 transition">Size Guide</a></li>
        <li><a href="#" onclick="navigateTo('orders')" class="hover:opacity-100 transition">Track Order</a></li>
       </ul>
      </div>
      <div>
       <h4 class="text-sm tracking-wider mb-6">COMPANY</h4>
       <ul class="space-y-3 text-sm opacity-70">
        <li><a href="#" onclick="navigateTo('about')" class="hover:opacity-100 transition">About Us</a></li>
        <li><a href="#" onclick="navigateTo('sustainability')" class="hover:opacity-100 transition">Sustainability</a></li>
        <li><a href="#" onclick="navigateTo('privacy')" class="hover:opacity-100 transition">Privacy Policy</a></li>
        <li><a href="#" onclick="navigateTo('terms')" class="hover:opacity-100 transition">Terms of Service</a></li>
       </ul>
      </div>
     </div>
     <div class="border-t border-white/10 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center">
      <p class="text-xs opacity-50">© 2024 July. All rights reserved.</p>
      <div class="flex space-x-6 mt-4 md:mt-0"><a href="#" class="opacity-50 hover:opacity-100 transition">
        <svg class="w-5 h-5" fill="currentColor" viewbox="0 0 24 24">
         <path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z" />
        </svg></a> <a href="#" class="opacity-50 hover:opacity-100 transition">
        <svg class="w-5 h-5" fill="currentColor" viewbox="0 0 24 24">
         <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" />
        </svg></a> <a href="#" class="opacity-50 hover:opacity-100 transition">
        <svg class="w-5 h-5" fill="currentColor" viewbox="0 0 24 24">
         <path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
        </svg></a>
      </div>
     </div>
    </div>
   </footer>
  </div>
  <script>
    // Product Data
    const products = [
      // Men's Sneakers
      { id: 'm1', name: 'Classic Leather Runner', price: 245, category: 'men', image: 'Men sneakers/A.jfif', description: 'Premium leather construction with cushioned insole for all-day comfort.' },
      { id: 'm2', name: 'Urban Street Elite', price: 285, category: 'men', image: 'Men sneakers/B.jfif', description: 'Modern street style meets luxury craftsmanship.' },
      { id: 'm3', name: 'Minimalist Canvas', price: 195, category: 'men', image: 'Men sneakers/C.jfif', description: 'Clean lines and sustainable materials for the conscious consumer.' },
      { id: 'm4', name: 'Sport Luxe Trainer', price: 320, category: 'men', image: 'Men sneakers/D.jfif', description: 'Performance meets style in this versatile trainer.' },
      { id: 'm5', name: 'Heritage Low Top', price: 265, category: 'men', image: 'Men sneakers/E.jfif', description: 'Timeless design inspired by vintage athletics.' },
      { id: 'm6', name: 'Suede Court Classic', price: 275, category: 'men', image: 'Men sneakers/F.jfif', description: 'Luxurious suede finish with refined details.' },
      
      // Women's Sneakers
      { id: 'w1', name: 'Silk Touch Runner', price: 255, category: 'women', image: 'Women sneakers/A.jfif', description: 'Elegant design with buttery soft leather.' },
      { id: 'w2', name: 'Pastel Dream Walker', price: 235, category: 'women', image: 'Women sneakers/B.jfif', description: 'Soft pastel tones for a feminine touch.' },
      { id: 'w3', name: 'Athleisure Chic', price: 295, category: 'women', image: 'Women sneakers/C.jfif', description: 'From gym to street in effortless style.' },
      { id: 'w4', name: 'Platform Minimalist', price: 275, category: 'women', image: 'Women sneakers/D.jfif', description: 'Elevated platform with clean aesthetic.' },
      { id: 'w5', name: 'Knit Comfort Plus', price: 225, category: 'women', image: 'Women sneakers/E.jfif', description: 'Breathable knit upper for ultimate comfort.' },
      { id: 'w6', name: 'Retro Tennis Classic', price: 245, category: 'women', image: 'Women sneakers/F.jfif', description: 'Vintage-inspired tennis shoe with modern comfort.' },
      
      // Kids' Sneakers
      { id: 'k1', name: 'Junior Explorer', price: 125, category: 'kids', image: 'Kids sneakers/A.jfif', description: 'Durable and fun for active little ones.' },
      { id: 'k2', name: 'Playground Pro', price: 115, category: 'kids', image: 'Kids sneakers/B.jfif', description: 'Built tough for endless adventures.' },
      { id: 'k3', name: 'Rainbow Runner', price: 135, category: 'kids', image: 'Kids sneakers/C.jfif', description: 'Colorful design kids love.' },
      { id: 'k4', name: 'Mini Athlete', price: 145, category: 'kids', image: 'Kids sneakers/D.jfif', description: 'Performance features sized for young athletes.' },
      { id: 'k5', name: 'Velcro Easy-On', price: 105, category: 'kids', image: 'Kids sneakers/E.jfif', description: 'Easy closure for independent dressing.' },
      { id: 'k6', name: 'School Day Classic', price: 125, category: 'kids', image: 'Kids sneakers/F.jfif', description: 'Classic style appropriate for any occasion.' }
    ];
    
    // Hero Slides
    const heroSlides = [
      { image: 'Kids sneakers/B.jfif', title: 'Luxury Without Labels', subtitle: 'Step into elegance with our premium sneaker collection' },
      { image: 'Men sneakers/B.jfif', title: 'New Season Arrivals', subtitle: 'Discover the latest in luxury footwear' },
      { image: 'Women sneakers/E.jfif', title: 'Crafted for Comfort', subtitle: 'Where style meets everyday wearability' },
      { image: 'Women sneakers/A.jfif', title: 'Summer Collection', subtitle: 'Light, breathable, and effortlessly chic' }
    ];
    
    // State
    let currentPage = 'home';
    let currentCategory = null;
    let currentProduct = null;
    let cartItems = [];
    let wishlistItems = [];
    let currentSlide = 0;
    let slideInterval = null;
    let bestSellerTab = 'men';
    let categorySlideIndex = 0;
    let dataRecords = [];
    
    // Config
    const defaultConfig = {
      brand_name: 'JULY',
      hero_headline: 'Luxury Without Labels',
      hero_subtext: 'Step into elegance with our premium sneaker collection',
      announcement_text: 'FREE SHIPPING ON ORDERS OVER $150 | REFER A FRIEND & GET 20% OFF',
      background_color: '#F5EFE6',
      surface_color: '#FFFFFF',
      text_color: '#1A1A1A',
      primary_action_color: '#1A1A1A',
      secondary_action_color: '#4A4A4A'
    };
    
    let config = { ...defaultConfig };
    
    // Data Handler
    const dataHandler = {
      onDataChanged(data) {
        dataRecords = data;
        
        // Separate cart and wishlist items
        cartItems = data.filter(item => item.type === 'cart');
        wishlistItems = data.filter(item => item.type === 'wishlist');
        
        updateCartUI();
        updateWishlistUI();
      }
    };
    
    // Initialize
    async function init() {
      // Initialize Element SDK
      if (window.elementSdk) {
        window.elementSdk.init({
          defaultConfig,
          onConfigChange: async (newConfig) => {
            config = { ...defaultConfig, ...newConfig };
            applyConfig();
          },
          mapToCapabilities: (cfg) => ({
            recolorables: [
              {
                get: () => cfg.background_color || defaultConfig.background_color,
                set: (v) => { cfg.background_color = v; window.elementSdk.setConfig({ background_color: v }); }
              },
              {
                get: () => cfg.surface_color || defaultConfig.surface_color,
                set: (v) => { cfg.surface_color = v; window.elementSdk.setConfig({ surface_color: v }); }
              },
              {
                get: () => cfg.text_color || defaultConfig.text_color,
                set: (v) => { cfg.text_color = v; window.elementSdk.setConfig({ text_color: v }); }
              },
              {
                get: () => cfg.primary_action_color || defaultConfig.primary_action_color,
                set: (v) => { cfg.primary_action_color = v; window.elementSdk.setConfig({ primary_action_color: v }); }
              },
              {
                get: () => cfg.secondary_action_color || defaultConfig.secondary_action_color,
                set: (v) => { cfg.secondary_action_color = v; window.elementSdk.setConfig({ secondary_action_color: v }); }
              }
            ],
            borderables: [],
            fontEditable: undefined,
            fontSizeable: undefined
          }),
          mapToEditPanelValues: (cfg) => new Map([
            ['brand_name', cfg.brand_name || defaultConfig.brand_name],
            ['hero_headline', cfg.hero_headline || defaultConfig.hero_headline],
            ['hero_subtext', cfg.hero_subtext || defaultConfig.hero_subtext],
            ['announcement_text', cfg.announcement_text || defaultConfig.announcement_text]
          ])
        });
      }
      
      // Initialize Data SDK
      if (window.dataSdk) {
        const result = await window.dataSdk.init(dataHandler);
        if (!result.isOk) {
          console.error('Failed to initialize data SDK');
        }
      }
      
      // Load profile from localStorage
      loadProfile();
      
      // Render initial page
      renderPage();
      applyConfig();
    }
    
    function applyConfig() {
      const bgColor = config.background_color || defaultConfig.background_color;
      const surfaceColor = config.surface_color || defaultConfig.surface_color;
      const textColor = config.text_color || defaultConfig.text_color;
      const primaryAction = config.primary_action_color || defaultConfig.primary_action_color;
      
      document.body.style.backgroundColor = bgColor;
      document.body.style.color = textColor;
      
      // Update brand name
      const brandEl = document.getElementById('brand-name');
      if (brandEl) brandEl.textContent = config.brand_name || defaultConfig.brand_name;
      
      const footerBrand = document.getElementById('footer-brand');
      if (footerBrand) footerBrand.textContent = config.brand_name || defaultConfig.brand_name;
      
      // Update announcement
      const announceEl = document.getElementById('announcement-text');
      if (announceEl) announceEl.textContent = config.announcement_text || defaultConfig.announcement_text;
      
      // Update hero if on home page
      const heroHeadline = document.getElementById('hero-headline');
      if (heroHeadline) heroHeadline.textContent = config.hero_headline || defaultConfig.hero_headline;
      
      const heroSubtext = document.getElementById('hero-subtext');
      if (heroSubtext) heroSubtext.textContent = config.hero_subtext || defaultConfig.hero_subtext;
    }
    
    // Navigation
    function navigateTo(page, param = null) {
      currentPage = page;
      currentCategory = param;
      currentProduct = null;
      renderPage();
      document.getElementById('app').scrollTo(0, 0);
      return false;
    }
    
    function navigateToProduct(productId) {
      currentPage = 'product';
      currentProduct = products.find(p => p.id === productId);
      renderPage();
      document.getElementById('app').scrollTo(0, 0);
      return false;
    }
    
    // Render Functions
    function renderPage() {
      const main = document.getElementById('main-content');
      
      switch(currentPage) {
        case 'home':
          main.innerHTML = renderHomePage();
          startCarousel();
          break;
        case 'category':
          main.innerHTML = renderCategoryPage();
          break;
        case 'collection':
          main.innerHTML = renderCollectionPage();
          break;
        case 'product':
          main.innerHTML = renderProductPage();
          break;
        case 'about':
          main.innerHTML = renderAboutPage();
          break;
        case 'contact':
          main.innerHTML = renderContactPage();
          break;
        case 'faq':
          main.innerHTML = renderFAQPage();
          break;
        case 'shipping':
          main.innerHTML = renderShippingPage();
          break;
        case 'size-guide':
          main.innerHTML = renderSizeGuidePage();
          break;
        case 'orders':
          main.innerHTML = renderOrdersPage();
          break;
        case 'privacy':
          main.innerHTML = renderPrivacyPage();
          break;
        case 'terms':
          main.innerHTML = renderTermsPage();
          break;
        case 'careers':
          main.innerHTML = renderCareersPage();
          break;
        case 'sustainability':
          main.innerHTML = renderSustainabilityPage();
          break;
        case 'bestsellers':
          main.innerHTML = renderBestsellersPage();
          break;
        default:
          main.innerHTML = renderHomePage();
          startCarousel();
      }
    }
    
    function renderHomePage() {
      return `
        <!-- Hero Carousel -->
        <section class="relative h-[600px] overflow-hidden">
          <div id="hero-carousel" class="hero-carousel flex h-full" style="width: ${heroSlides.length * 100}%;">
            ${heroSlides.map((slide, i) => `
              <div class="relative h-full" style="width: ${100 / heroSlides.length}%;">
                <img src="${slide.image}" alt="${slide.title}" class="w-full h-full object-cover" loading="lazy" onerror="this.src=''; this.alt='Image unavailable';">
                <div class="absolute inset-0 bg-black/30 flex items-center justify-center">
                  <div class="text-center text-white px-4">
                    <h1 id="${i === 0 ? 'hero-headline' : ''}" class="font-serif text-5xl md:text-7xl mb-4">${i === 0 ? (config.hero_headline || defaultConfig.hero_headline) : slide.title}</h1>
                    <p id="${i === 0 ? 'hero-subtext' : ''}" class="text-lg md:text-xl mb-8 opacity-90">${i === 0 ? (config.hero_subtext || defaultConfig.hero_subtext) : slide.subtitle}</p>
                    <button onclick="navigateTo('collection')" class="bg-white text-[#1A1A1A] px-8 py-4 text-sm tracking-wider hover:bg-[#1A1A1A] hover:text-white transition">
                      VIEW COLLECTION
                    </button>
                  </div>
                </div>
              </div>
            `).join('')}
          </div>
          <button onclick="prevSlide()" class="absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white/80 rounded-full flex items-center justify-center hover:bg-white transition">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
          </button>
          <button onclick="nextSlide()" class="absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white/80 rounded-full flex items-center justify-center hover:bg-white transition">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
          </button>
          <div class="absolute bottom-6 left-1/2 -translate-x-1/2 flex space-x-2">
            ${heroSlides.map((_, i) => `
              <button onclick="goToSlide(${i})" class="w-2 h-2 rounded-full ${i === 0 ? 'bg-white' : 'bg-white/50'}" id="dot-${i}"></button>
            `).join('')}
          </div>
        </section>
        
        <!-- Shop by Categories -->
        <section class="max-w-7xl mx-auto px-4 py-16">
          <div class="flex items-center justify-between mb-8">
            <h2 class="font-serif text-3xl">Shop by Categories</h2>
            <div class="flex space-x-2">
              <button onclick="slideCategoryPrev()" class="w-10 h-10 border border-[#1A1A1A]/20 rounded-full flex items-center justify-center hover:border-[#1A1A1A] transition">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
              </button>
              <button onclick="slideCategoryNext()" class="w-10 h-10 border border-[#1A1A1A]/20 rounded-full flex items-center justify-center hover:border-[#1A1A1A] transition">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
              </button>
            </div>
          </div>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
            <a href="#" onclick="return navigateTo('category', 'men')" class="group relative aspect-[3/4] overflow-hidden bg-white">
              <img src="Men sneakers/F.jfif" alt="Men's Sneakers" class="w-full h-full object-cover group-hover:scale-105 transition duration-500" loading="lazy" onerror="this.src=''; this.alt='Image unavailable';">
              <div class="absolute inset-0 bg-black/20 group-hover:bg-black/30 transition"></div>
              <span class="absolute bottom-4 left-4 text-white text-sm tracking-wider">MEN</span>
            </a>
            <a href="#" onclick="return navigateTo('category', 'women')" class="group relative aspect-[3/4] overflow-hidden bg-white">
              <img src="Women sneakers/E.jfif" alt="Women's Sneakers" class="w-full h-full object-cover group-hover:scale-105 transition duration-500" loading="lazy" onerror="this.src=''; this.alt='Image unavailable';">
              <div class="absolute inset-0 bg-black/20 group-hover:bg-black/30 transition"></div>
              <span class="absolute bottom-4 left-4 text-white text-sm tracking-wider">WOMEN</span>
            </a>
            <a href="#" onclick="return navigateTo('category', 'kids')" class="group relative aspect-[3/4] overflow-hidden bg-white">
              <img src="Kids sneakers/D.jfif" alt="Kids' Sneakers" class="w-full h-full object-cover group-hover:scale-105 transition duration-500" loading="lazy" onerror="this.src=''; this.alt='Image unavailable';">
              <div class="absolute inset-0 bg-black/20 group-hover:bg-black/30 transition"></div>
              <span class="absolute bottom-4 left-4 text-white text-sm tracking-wider">KIDS</span>
            </a>
            <a href="#" onclick="return navigateTo('collection')" class="group relative aspect-[3/4] overflow-hidden bg-white">
              <img src="Men sneakers/B.jfif" alt="New Arrivals" class="w-full h-full object-cover group-hover:scale-105 transition duration-500" loading="lazy" onerror="this.src=''; this.alt='Image unavailable';">
              <div class="absolute inset-0 bg-black/20 group-hover:bg-black/30 transition"></div>
              <span class="absolute bottom-4 left-4 text-white text-sm tracking-wider">NEW ARRIVALS</span>
            </a>
          </div>
        </section>
        
        <!-- Best Sellers -->
        <section class="max-w-7xl mx-auto px-4 py-16">
          <div class="flex flex-col md:flex-row md:items-center justify-between mb-8">
            <h2 class="font-serif text-3xl mb-4 md:mb-0">Best Sellers</h2>
            <div class="flex space-x-6 text-sm">
              <button onclick="setBestSellerTab('men')" class="pb-2 ${bestSellerTab === 'men' ? 'border-b-2 border-[#1A1A1A]' : 'opacity-60 hover:opacity-100'} transition" id="tab-men">MENS</button>
              <button onclick="setBestSellerTab('women')" class="pb-2 ${bestSellerTab === 'women' ? 'border-b-2 border-[#1A1A1A]' : 'opacity-60 hover:opacity-100'} transition" id="tab-women">WOMENS</button>
              <button onclick="setBestSellerTab('kids')" class="pb-2 ${bestSellerTab === 'kids' ? 'border-b-2 border-[#1A1A1A]' : 'opacity-60 hover:opacity-100'} transition" id="tab-kids">KIDS</button>
            </div>
          </div>
          <div id="bestseller-grid" class="grid grid-cols-2 md:grid-cols-4 gap-6">
            ${renderProductGrid(products.filter(p => p.category === bestSellerTab).slice(0, 4))}
          </div>
          <div class="text-center mt-12">
            <button onclick="navigateTo('category', '${bestSellerTab}')" class="border border-[#1A1A1A] px-8 py-4 text-sm tracking-wider hover:bg-[#1A1A1A] hover:text-white transition">
              VIEW ALL PRODUCTS
            </button>
          </div>
        </section>
        
        <!-- Newsletter -->
        <section class="bg-[#1A1A1A] text-white py-20">
          <div class="max-w-2xl mx-auto px-4 text-center">
            <h2 class="font-serif text-3xl mb-4">Join Our Newsletter</h2>
            <p class="opacity-70 mb-8">Be the first to know about new collections and exclusive offers.</p>
            <form onsubmit="handleNewsletterSubmit(event)" class="flex flex-col sm:flex-row gap-4">
              <input type="email" placeholder="Enter your email" required class="flex-1 bg-transparent border border-white/30 px-6 py-4 text-sm focus:border-white transition">
              <button type="submit" class="bg-white text-[#1A1A1A] px-8 py-4 text-sm tracking-wider hover:bg-[#F5EFE6] transition">
                SUBSCRIBE
              </button>
            </form>
          </div>
        </section>
      `;
    }
    
    function renderProductGrid(productList) {
      return productList.map(product => {
        const isInWishlist = wishlistItems.some(w => w.product_id === product.id);
        return `
        <div class="product-card group">
          <a href="#" onclick="return navigateToProduct('${product.id}')" class="block relative aspect-square bg-white overflow-hidden mb-4">
            <img src="${product.image}" alt="${product.name}" class="product-image w-full h-full object-cover" loading="lazy" onerror="this.src=''; this.alt='Image unavailable';">
            <button onclick="event.preventDefault(); event.stopPropagation(); toggleWishlistItem('${product.id}')" class="wishlist-heart absolute top-4 right-4 p-2 bg-white/80 rounded-full hover:bg-white transition ${isInWishlist ? 'active' : ''}">
              <svg class="w-5 h-5" fill="${isInWishlist ? '#e53e3e' : 'none'}" stroke="${isInWishlist ? '#e53e3e' : 'currentColor'}" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/></svg>
            </button>
          </a>
          <h3 class="text-sm font-medium mb-1">${product.name}</h3>
          <div class="flex items-center justify-between">
            <span class="text-sm">$${product.price}</span>
            <button onclick="quickAddToCart('${product.id}')" class="text-xs border border-[#1A1A1A] px-3 py-1 hover:bg-[#1A1A1A] hover:text-white transition">
              ADD TO CART
            </button>
          </div>
        </div>
      `;
      }).join('');
    }
    
    function renderCategoryPage() {
      const categoryNames = { men: "Men's Collection", women: "Women's Collection", kids: "Kids' Collection" };
      const categoryProducts = products.filter(p => p.category === currentCategory);
      
      return `
        <div class="max-w-7xl mx-auto px-4 py-12">
          <nav class="text-sm mb-8 opacity-60">
            <a href="#" onclick="return navigateTo('home')" class="hover:opacity-100">Home</a>
            <span class="mx-2">/</span>
            <span>${categoryNames[currentCategory] || 'All Products'}</span>
          </nav>
          <h1 class="font-serif text-4xl mb-12">${categoryNames[currentCategory] || 'All Products'}</h1>
          <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
            ${renderProductGrid(categoryProducts)}
          </div>
        </div>
      `;
    }
    
    function renderCollectionPage() {
      return `
        <div class="max-w-7xl mx-auto px-4 py-12">
          <nav class="text-sm mb-8 opacity-60">
            <a href="#" onclick="return navigateTo('home')" class="hover:opacity-100">Home</a>
            <span class="mx-2">/</span>
            <span>Collection</span>
          </nav>
          <h1 class="font-serif text-4xl mb-4">New Collection</h1>
          <p class="text-lg opacity-70 mb-12 max-w-2xl">Discover our latest arrivals, featuring premium materials and timeless designs crafted for the modern lifestyle.</p>
          <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
            ${renderProductGrid(products)}
          </div>
        </div>
      `;
    }
    
    function renderProductPage() {
      if (!currentProduct) return '<div class="p-12 text-center">Product not found</div>';
      
      const relatedProducts = products.filter(p => p.category === currentProduct.category && p.id !== currentProduct.id).slice(0, 4);
      const isInWishlist = wishlistItems.some(w => w.product_id === currentProduct.id);
      
      return `
        <div class="max-w-7xl mx-auto px-4 py-12">
          <nav class="text-sm mb-8 opacity-60">
            <a href="#" onclick="return navigateTo('home')" class="hover:opacity-100">Home</a>
            <span class="mx-2">/</span>
            <a href="#" onclick="return navigateTo('category', '${currentProduct.category}')" class="hover:opacity-100">${currentProduct.category.charAt(0).toUpperCase() + currentProduct.category.slice(1)}</a>
            <span class="mx-2">/</span>
            <span>${currentProduct.name}</span>
          </nav>
          
          <div class="grid md:grid-cols-2 gap-12">
            <div class="aspect-square bg-white">
              <img src="${currentProduct.image}" alt="${currentProduct.name}" class="w-full h-full object-cover" loading="lazy" onerror="this.src=''; this.alt='Image unavailable';">
            </div>
            <div class="py-8">
              <h1 class="font-serif text-3xl mb-4">${currentProduct.name}</h1>
              <p class="text-2xl mb-6">$${currentProduct.price}</p>
              <p class="opacity-70 mb-8 leading-relaxed">${currentProduct.description}</p>
              
              <div class="mb-6">
                <label for="size-select" class="block text-sm mb-3">Size</label>
                <select id="size-select" class="w-full border border-[#1A1A1A]/20 px-4 py-3 bg-transparent">
                  <option value="">Select Size</option>
                  <option value="6">US 6</option>
                  <option value="7">US 7</option>
                  <option value="8">US 8</option>
                  <option value="9">US 9</option>
                  <option value="10">US 10</option>
                  <option value="11">US 11</option>
                  <option value="12">US 12</option>
                </select>
              </div>
              
              <div class="mb-8">
                <label for="quantity-input" class="block text-sm mb-3">Quantity</label>
                <div class="flex items-center border border-[#1A1A1A]/20 w-32">
                  <button onclick="decrementQuantity()" class="px-4 py-3 hover:bg-[#1A1A1A]/5">-</button>
                  <input type="number" id="quantity-input" value="1" min="1" class="w-12 text-center border-none bg-transparent">
                  <button onclick="incrementQuantity()" class="px-4 py-3 hover:bg-[#1A1A1A]/5">+</button>
                </div>
              </div>
              
              <div class="flex gap-4 mb-8">
                <button onclick="addToCartFromProductPage()" class="flex-1 bg-[#1A1A1A] text-white py-4 text-sm tracking-wider hover:bg-[#333] transition">
                  ADD TO CART
                </button>
                <button onclick="toggleWishlistItem('${currentProduct.id}')" class="wishlist-heart p-4 border border-[#1A1A1A]/20 hover:border-[#1A1A1A] transition ${isInWishlist ? 'active' : ''}">
                  <svg class="w-5 h-5" fill="${isInWishlist ? '#e53e3e' : 'none'}" stroke="${isInWishlist ? '#e53e3e' : 'currentColor'}" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/></svg>
                </button>
              </div>
              
              <div class="border-t border-[#1A1A1A]/10 pt-8 space-y-4 text-sm opacity-70">
                <p>✓ Free shipping on orders over $150</p>
                <p>✓ 30-day return policy</p>
                <p>✓ Premium quality materials</p>
              </div>
            </div>
          </div>
          
          <section class="mt-20">
            <h2 class="font-serif text-2xl mb-8">You May Also Like</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
              ${renderProductGrid(relatedProducts)}
            </div>
          </section>
        </div>
      `;
    }
    
    function renderAboutPage() {
      return `
        <div class="max-w-4xl mx-auto px-4 py-12">
          <nav class="text-sm mb-8 opacity-60">
            <a href="#" onclick="return navigateTo('home')" class="hover:opacity-100">Home</a>
            <span class="mx-2">/</span>
            <span>About Us</span>
          </nav>
          
          <h1 class="font-serif text-4xl mb-8">Our Story</h1>
          
          <div class="aspect-video mb-12 bg-white overflow-hidden">
            <img src="Men sneakers/D.jfif" alt="July Store" class="w-full h-full object-cover" loading="lazy" onerror="this.src=''; this.alt='Image unavailable';">
          </div>
          
          <div class="prose max-w-none space-y-6 text-lg leading-relaxed opacity-80">
            <p>Founded in 2018, July began with a simple vision: to create luxury sneakers that don't need a logo to make a statement. We believe true luxury lies in exceptional craftsmanship, premium materials, and timeless design.</p>
            
            <p>Every pair of July sneakers is crafted in small batches by skilled artisans who share our commitment to quality. We source the finest Italian leathers, Japanese textiles, and sustainable materials to create footwear that's built to last.</p>
            
            <h2 class="font-serif text-2xl mt-12 mb-4">Our Philosophy</h2>
            <p>In a world of fast fashion and fleeting trends, we choose to create pieces that transcend seasons. Our designs are intentionally minimal, allowing the quality of materials and construction to speak for themselves.</p>
            
            <h2 class="font-serif text-2xl mt-12 mb-4">Sustainability</h2>
            <p>We're committed to reducing our environmental impact. From using recycled packaging to partnering with carbon-neutral shipping providers, we're constantly looking for ways to do better for our planet.</p>
          </div>
          
          <div class="grid md:grid-cols-3 gap-8 mt-16">
            <div class="text-center">
              <div class="font-serif text-4xl mb-2">50k+</div>
              <p class="text-sm opacity-60">Happy Customers</p>
            </div>
            <div class="text-center">
              <div class="font-serif text-4xl mb-2">15</div>
              <p class="text-sm opacity-60">Countries Shipped</p>
            </div>
            <div class="text-center">
              <div class="font-serif text-4xl mb-2">100%</div>
              <p class="text-sm opacity-60">Quality Guaranteed</p>
            </div>
          </div>
        </div>
      `;
    }
    
    function renderContactPage() {
      return `
        <div class="max-w-4xl mx-auto px-4 py-12">
          <nav class="text-sm mb-8 opacity-60">
            <a href="#" onclick="return navigateTo('home')" class="hover:opacity-100">Home</a>
            <span class="mx-2">/</span>
            <span>Contact Us</span>
          </nav>
          
          <h1 class="font-serif text-4xl mb-8">Get in Touch</h1>
          
          <div class="grid md:grid-cols-2 gap-12">
            <div>
              <p class="text-lg opacity-70 mb-8">Have a question or feedback? We'd love to hear from you. Fill out the form and our team will get back to you within 24 hours.</p>
              
              <div class="space-y-6">
                <div>
                  <h3 class="font-medium mb-2">Email</h3>
                  <p class="opacity-70">hello@julysneakers.com</p>
                </div>
                <div>
                  <h3 class="font-medium mb-2">Phone</h3>
                  <p class="opacity-70">+1 (555) 123-4567</p>
                </div>
                <div>
                  <h3 class="font-medium mb-2">Address</h3>
                  <p class="opacity-70">123 Fashion Avenue<br>New York, NY 10001</p>
                </div>
                <div>
                  <h3 class="font-medium mb-2">Hours</h3>
                  <p class="opacity-70">Mon - Fri: 9am - 6pm EST<br>Sat - Sun: 10am - 4pm EST</p>
                </div>
              </div>
            </div>
            
            <div class="bg-white p-8">
              <form onsubmit="handleContactSubmit(event)" class="space-y-6">
                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label for="contact-first-name" class="block text-sm mb-2">First Name *</label>
                    <input type="text" id="contact-first-name" required class="w-full border border-[#1A1A1A]/20 px-4 py-3 text-sm">
                  </div>
                  <div>
                    <label for="contact-last-name" class="block text-sm mb-2">Last Name *</label>
                    <input type="text" id="contact-last-name" required class="w-full border border-[#1A1A1A]/20 px-4 py-3 text-sm">
                  </div>
                </div>
                <div>
                  <label for="contact-email" class="block text-sm mb-2">Email Address *</label>
                  <input type="email" id="contact-email" required class="w-full border border-[#1A1A1A]/20 px-4 py-3 text-sm">
                </div>
                <div>
                  <label for="contact-phone" class="block text-sm mb-2">Phone Number</label>
                  <input type="tel" id="contact-phone" class="w-full border border-[#1A1A1A]/20 px-4 py-3 text-sm">
                </div>
                <div>
                  <label for="contact-subject" class="block text-sm mb-2">Subject *</label>
                  <select id="contact-subject" required class="w-full border border-[#1A1A1A]/20 px-4 py-3 text-sm bg-transparent">
                    <option value="">Select a topic</option>
                    <option value="order">Order Inquiry</option>
                    <option value="product">Product Question</option>
                    <option value="returns">Returns & Exchanges</option>
                    <option value="shipping">Shipping Information</option>
                    <option value="other">Other</option>
                  </select>
                </div>
                <div>
                  <label for="contact-order" class="block text-sm mb-2">Order Number (if applicable)</label>
                  <input type="text" id="contact-order" class="w-full border border-[#1A1A1A]/20 px-4 py-3 text-sm" placeholder="e.g., JUL-123456">
                </div>
                <div>
                  <label for="contact-message" class="block text-sm mb-2">Message *</label>
                  <textarea id="contact-message" required rows="5" class="w-full border border-[#1A1A1A]/20 px-4 py-3 text-sm resize-none"></textarea>
                </div>
                <div class="flex items-start gap-3">
                  <input type="checkbox" id="contact-newsletter" class="mt-1">
                  <label for="contact-newsletter" class="text-sm opacity-70">Subscribe to our newsletter for exclusive offers and updates</label>
                </div>
                <button type="submit" class="w-full bg-[#1A1A1A] text-white py-4 text-sm tracking-wider hover:bg-[#333] transition">
                  SEND MESSAGE
                </button>
              </form>
              <div id="contact-success" class="hidden text-center py-8">
                <svg class="w-16 h-16 mx-auto mb-4 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                <h3 class="font-serif text-xl mb-2">Message Sent!</h3>
                <p class="text-sm opacity-70">We'll get back to you within 24 hours.</p>
              </div>
            </div>
          </div>
        </div>
      `;
    }
    
    function renderFAQPage() {
      const faqs = [
        { q: 'What is your return policy?', a: 'We offer a 30-day return policy for unworn items in original packaging. Returns are free within the US.' },
        { q: 'How long does shipping take?', a: 'Standard shipping takes 5-7 business days. Express shipping (2-3 days) is available for an additional fee.' },
        { q: 'Do you ship internationally?', a: 'Yes! We ship to over 15 countries. International orders typically arrive within 7-14 business days.' },
        { q: 'How do I find my size?', a: 'Check our size guide for detailed measurements. Our sneakers typically run true to size.' },
        { q: 'Are your products authentic?', a: 'Absolutely. All July products are designed and manufactured by us using premium materials.' },
        { q: 'How do I care for my sneakers?', a: 'We recommend using a soft brush and damp cloth. Avoid machine washing and direct heat.' }
      ];
      
      return `
        <div class="max-w-3xl mx-auto px-4 py-12">
          <nav class="text-sm mb-8 opacity-60">
            <a href="#" onclick="return navigateTo('home')" class="hover:opacity-100">Home</a>
            <span class="mx-2">/</span>
            <span>FAQ</span>
          </nav>
          
          <h1 class="font-serif text-4xl mb-8">Frequently Asked Questions</h1>
          
          <div class="space-y-4">
            ${faqs.map((faq, i) => `
              <div class="border border-[#1A1A1A]/10 bg-white">
                <button onclick="toggleFAQ(${i})" class="w-full px-6 py-4 flex justify-between items-center text-left">
                  <span class="font-medium">${faq.q}</span>
                  <svg class="w-5 h-5 transform transition" id="faq-icon-${i}" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 9l-7 7-7-7"/></svg>
                </button>
                <div class="hidden px-6 pb-4 opacity-70" id="faq-content-${i}">${faq.a}</div>
              </div>
            `).join('')}
          </div>
          
          <div class="mt-12 text-center">
            <p class="opacity-70 mb-4">Still have questions?</p>
            <button onclick="navigateTo('contact')" class="border border-[#1A1A1A] px-8 py-4 text-sm tracking-wider hover:bg-[#1A1A1A] hover:text-white transition">
              CONTACT US
            </button>
          </div>
        </div>
      `;
    }
    
    function renderShippingPage() {
      return `
        <div class="max-w-3xl mx-auto px-4 py-12">
          <nav class="text-sm mb-8 opacity-60">
            <a href="#" onclick="return navigateTo('home')" class="hover:opacity-100">Home</a>
            <span class="mx-2">/</span>
            <span>Shipping & Returns</span>
          </nav>
          
          <h1 class="font-serif text-4xl mb-8">Shipping & Returns</h1>
          
          <div class="space-y-12">
            <section>
              <h2 class="font-serif text-2xl mb-4">Shipping</h2>
              <div class="bg-white p-6 space-y-4">
                <div class="flex justify-between py-3 border-b border-[#1A1A1A]/10">
                  <span>Standard Shipping</span>
                  <span>5-7 business days / Free over $150</span>
                </div>
                <div class="flex justify-between py-3 border-b border-[#1A1A1A]/10">
                  <span>Express Shipping</span>
                  <span>2-3 business days / $15</span>
                </div>
                <div class="flex justify-between py-3">
                  <span>International</span>
                  <span>7-14 business days / $25</span>
                </div>
              </div>
            </section>
            
            <section>
              <h2 class="font-serif text-2xl mb-4">Returns</h2>
              <div class="opacity-70 space-y-4">
                <p>We offer a 30-day return policy for all unworn items in their original packaging.</p>
                <p>To initiate a return, please contact our customer service team with your order number. We'll provide a prepaid shipping label for US orders.</p>
                <p>Refunds will be processed within 5-7 business days of receiving your return.</p>
              </div>
            </section>
            
            <section>
              <h2 class="font-serif text-2xl mb-4">Exchanges</h2>
              <p class="opacity-70">Need a different size? We're happy to exchange your item free of charge. Contact us within 30 days of delivery.</p>
            </section>
          </div>
        </div>
      `;
    }
    
    function renderSizeGuidePage() {
      return `
        <div class="max-w-4xl mx-auto px-4 py-12">
          <nav class="text-sm mb-8 opacity-60">
            <a href="#" onclick="return navigateTo('home')" class="hover:opacity-100">Home</a>
            <span class="mx-2">/</span>
            <span>Size Guide</span>
          </nav>
          
          <h1 class="font-serif text-4xl mb-8">Size Guide</h1>
          
          <p class="opacity-70 mb-8">Our sneakers run true to size. If you're between sizes, we recommend sizing up for a more comfortable fit.</p>
          
          <div class="overflow-x-auto">
            <table class="w-full bg-white text-sm">
              <thead>
                <tr class="border-b border-[#1A1A1A]/10">
                  <th class="px-6 py-4 text-left">US</th>
                  <th class="px-6 py-4 text-left">UK</th>
                  <th class="px-6 py-4 text-left">EU</th>
                  <th class="px-6 py-4 text-left">CM</th>
                </tr>
              </thead>
              <tbody>
                ${[
                  ['6', '5', '38', '24'],
                  ['7', '6', '39', '25'],
                  ['8', '7', '40', '26'],
                  ['9', '8', '41', '27'],
                  ['10', '9', '42', '28'],
                  ['11', '10', '43', '29'],
                  ['12', '11', '44', '30']
                ].map(row => `
                  <tr class="border-b border-[#1A1A1A]/10">
                    ${row.map(cell => `<td class="px-6 py-4">${cell}</td>`).join('')}
                  </tr>
                `).join('')}
              </tbody>
            </table>
          </div>
          
          <div class="mt-12">
            <h2 class="font-serif text-2xl mb-4">How to Measure</h2>
            <ol class="list-decimal list-inside space-y-2 opacity-70">
              <li>Stand on a piece of paper with your heel against a wall</li>
              <li>Mark the longest part of your foot on the paper</li>
              <li>Measure the distance from the wall to the mark in centimeters</li>
              <li>Use the CM column above to find your size</li>
            </ol>
          </div>
        </div>
      `;
    }
    
    function renderOrdersPage() {
      return `
        <div class="max-w-3xl mx-auto px-4 py-12">
          <nav class="text-sm mb-8 opacity-60">
            <a href="#" onclick="return navigateTo('home')" class="hover:opacity-100">Home</a>
            <span class="mx-2">/</span>
            <span>Order History</span>
          </nav>
          
          <h1 class="font-serif text-4xl mb-8">Order History</h1>
          
          <div class="bg-white p-8 text-center">
            <svg class="w-16 h-16 mx-auto mb-4 opacity-30" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/></svg>
            <p class="opacity-60 mb-6">No orders yet</p>
            <button onclick="navigateTo('collection')" class="border border-[#1A1A1A] px-8 py-4 text-sm tracking-wider hover:bg-[#1A1A1A] hover:text-white transition">
              START SHOPPING
            </button>
          </div>
          
          <div class="mt-12 bg-white p-8">
            <h2 class="font-serif text-xl mb-4">Track Your Order</h2>
            <form onsubmit="handleTrackOrder(event)" class="flex gap-4">
              <input type="text" placeholder="Enter order number" class="flex-1 border border-[#1A1A1A]/20 px-4 py-3 text-sm">
              <button type="submit" class="bg-[#1A1A1A] text-white px-8 py-3 text-sm tracking-wider hover:bg-[#333] transition">
                TRACK
              </button>
            </form>
          </div>
        </div>
      `;
    }
    
    function renderPrivacyPage() {
      return `
        <div class="max-w-3xl mx-auto px-4 py-12">
          <nav class="text-sm mb-8 opacity-60">
            <a href="#" onclick="return navigateTo('home')" class="hover:opacity-100">Home</a>
            <span class="mx-2">/</span>
            <span>Privacy Policy</span>
          </nav>
          
          <h1 class="font-serif text-4xl mb-8">Privacy Policy</h1>
          
          <div class="prose max-w-none space-y-6 opacity-80">
            <p class="text-sm opacity-60">Last updated: January 2024</p>
            
            <h2 class="font-serif text-xl mt-8 mb-4">Information We Collect</h2>
            <p>We collect information you provide directly, such as when you create an account, make a purchase, or contact us. This may include your name, email, shipping address, and payment information.</p>
            
            <h2 class="font-serif text-xl mt-8 mb-4">How We Use Your Information</h2>
            <p>We use your information to process orders, communicate with you, improve our services, and send promotional communications (with your consent).</p>
            
            <h2 class="font-serif text-xl mt-8 mb-4">Information Sharing</h2>
            <p>We do not sell your personal information. We may share information with service providers who assist in our operations, such as payment processors and shipping carriers.</p>
            
            <h2 class="font-serif text-xl mt-8 mb-4">Your Rights</h2>
            <p>You have the right to access, correct, or delete your personal information. Contact us at privacy@julysneakers.com for any requests.</p>
          </div>
        </div>
      `;
    }
    
    function renderTermsPage() {
      return `
        <div class="max-w-3xl mx-auto px-4 py-12">
          <nav class="text-sm mb-8 opacity-60">
            <a href="#" onclick="return navigateTo('home')" class="hover:opacity-100">Home</a>
            <span class="mx-2">/</span>
            <span>Terms of Service</span>
          </nav>
          
          <h1 class="font-serif text-4xl mb-8">Terms of Service</h1>
          
          <div class="prose max-w-none space-y-6 opacity-80">
            <p class="text-sm opacity-60">Last updated: January 2024</p>
            
            <h2 class="font-serif text-xl mt-8 mb-4">Acceptance of Terms</h2>
            <p>By accessing or using our website, you agree to be bound by these Terms of Service and all applicable laws and regulations.</p>
            
            <h2 class="font-serif text-xl mt-8 mb-4">Products and Pricing</h2>
            <p>All prices are listed in USD. We reserve the right to modify prices at any time. Products are subject to availability.</p>
            
            <h2 class="font-serif text-xl mt-8 mb-4">Orders and Payment</h2>
            <p>By placing an order, you represent that you are authorized to use the payment method provided. We reserve the right to refuse or cancel any order.</p>
            
            <h2 class="font-serif text-xl mt-8 mb-4">Intellectual Property</h2>
            <p>All content on this website, including images, text, and logos, is the property of July and protected by intellectual property laws.</p>
          </div>
        </div>
      `;
    }
    
    function renderCareersPage() {
      return `
        <div class="max-w-3xl mx-auto px-4 py-12">
          <nav class="text-sm mb-8 opacity-60">
            <a href="#" onclick="return navigateTo('home')" class="hover:opacity-100">Home</a>
            <span class="mx-2">/</span>
            <span>Careers</span>
          </nav>
          
          <h1 class="font-serif text-4xl mb-8">Join Our Team</h1>
          
          <p class="text-lg opacity-70 mb-12">We're always looking for passionate individuals who share our commitment to quality and design. Check out our open positions below.</p>
          
          <div class="space-y-4">
            <div class="bg-white p-6 flex justify-between items-center">
              <div>
                <h3 class="font-medium mb-1">Senior Product Designer</h3>
                <p class="text-sm opacity-60">New York, NY • Full-time</p>
              </div>
              <button class="text-sm border border-[#1A1A1A] px-4 py-2 hover:bg-[#1A1A1A] hover:text-white transition">APPLY</button>
            </div>
            <div class="bg-white p-6 flex justify-between items-center">
              <div>
                <h3 class="font-medium mb-1">E-commerce Manager</h3>
                <p class="text-sm opacity-60">Remote • Full-time</p>
              </div>
              <button class="text-sm border border-[#1A1A1A] px-4 py-2 hover:bg-[#1A1A1A] hover:text-white transition">APPLY</button>
            </div>
            <div class="bg-white p-6 flex justify-between items-center">
              <div>
                <h3 class="font-medium mb-1">Customer Experience Lead</h3>
                <p class="text-sm opacity-60">Los Angeles, CA • Full-time</p>
              </div>
              <button class="text-sm border border-[#1A1A1A] px-4 py-2 hover:bg-[#1A1A1A] hover:text-white transition">APPLY</button>
            </div>
          </div>
          
          <div class="mt-12 text-center opacity-70">
            <p>Don't see a position that fits? Send your resume to careers@julysneakers.com</p>
          </div>
        </div>
      `;
    }
    
    function renderSustainabilityPage() {
      return `
        <div class="max-w-3xl mx-auto px-4 py-12">
          <nav class="text-sm mb-8 opacity-60">
            <a href="#" onclick="return navigateTo('home')" class="hover:opacity-100">Home</a>
            <span class="mx-2">/</span>
            <span>Sustainability</span>
          </nav>
          
          <h1 class="font-serif text-4xl mb-8">Our Commitment to Sustainability</h1>
          
          <div class="prose max-w-none space-y-8 opacity-80">
            <p class="text-lg">At July, we believe luxury and sustainability can coexist. We're committed to minimizing our environmental impact while creating products that last.</p>
            
            <div class="grid md:grid-cols-3 gap-8 my-12">
              <div class="text-center">
                <div class="w-16 h-16 mx-auto mb-4 bg-[#1A1A1A] text-white rounded-full flex items-center justify-center">
                  <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"/></svg>
                </div>
                <h3 class="font-medium mb-2">Carbon Neutral</h3>
                <p class="text-sm">All shipments are carbon neutral through verified offsets</p>
              </div>
              <div class="text-center">
                <div class="w-16 h-16 mx-auto mb-4 bg-[#1A1A1A] text-white rounded-full flex items-center justify-center">
                  <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/></svg>
                </div>
                <h3 class="font-medium mb-2">Recycled Materials</h3>
                <p class="text-sm">50% of our packaging uses recycled materials</p>
              </div>
              <div class="text-center">
                <div class="w-16 h-16 mx-auto mb-4 bg-[#1A1A1A] text-white rounded-full flex items-center justify-center">
                  <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                </div>
                <h3 class="font-medium mb-2">Built to Last</h3>
                <p class="text-sm">Quality construction means fewer replacements</p>
              </div>
            </div>
            
            <h2 class="font-serif text-2xl mt-12 mb-4">Our Goals for 2025</h2>
            <ul class="list-disc list-inside space-y-2">
              <li>100% recycled packaging</li>
              <li>50% reduction in water usage during manufacturing</li>
              <li>Launch sneaker recycling program</li>
              <li>Partner with 3 additional sustainable material suppliers</li>
            </ul>
          </div>
        </div>
      `;
    }
    
    function renderBestsellersPage() {
      return `
        <div class="max-w-7xl mx-auto px-4 py-12">
          <nav class="text-sm mb-8 opacity-60">
            <a href="#" onclick="return navigateTo('home')" class="hover:opacity-100">Home</a>
            <span class="mx-2">/</span>
            <span>Best Sellers</span>
          </nav>
          
          <h1 class="font-serif text-4xl mb-8">Best Sellers</h1>
          
          <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
            ${renderProductGrid(products.slice(0, 8))}
          </div>
        </div>
      `;
    }
    
    // Carousel Functions
    function startCarousel() {
      if (slideInterval) clearInterval(slideInterval);
      slideInterval = setInterval(() => {
        nextSlide();
      }, 5000);
    }
    
    function nextSlide() {
      currentSlide = (currentSlide + 1) % heroSlides.length;
      updateCarousel();
    }
    
    function prevSlide() {
      currentSlide = (currentSlide - 1 + heroSlides.length) % heroSlides.length;
      updateCarousel();
    }
    
    function goToSlide(index) {
      currentSlide = index;
      updateCarousel();
    }
    
    function updateCarousel() {
      const carousel = document.getElementById('hero-carousel');
      if (carousel) {
        carousel.style.transform = `translateX(-${currentSlide * (100 / heroSlides.length)}%)`;
      }
      
      heroSlides.forEach((_, i) => {
        const dot = document.getElementById(`dot-${i}`);
        if (dot) {
          dot.className = `w-2 h-2 rounded-full ${i === currentSlide ? 'bg-white' : 'bg-white/50'}`;
        }
      });
    }
    
    // Category Slider
    function slideCategoryPrev() {
      categorySlideIndex = Math.max(0, categorySlideIndex - 1);
    }
    
    function slideCategoryNext() {
      categorySlideIndex = Math.min(3, categorySlideIndex + 1);
    }
    
    // Best Seller Tabs
    function setBestSellerTab(tab) {
      bestSellerTab = tab;
      const grid = document.getElementById('bestseller-grid');
      if (grid) {
        grid.innerHTML = renderProductGrid(products.filter(p => p.category === tab).slice(0, 4));
      }
      
      ['men', 'women', 'kids'].forEach(t => {
        const tabEl = document.getElementById(`tab-${t}`);
        if (tabEl) {
          tabEl.className = `pb-2 ${t === tab ? 'border-b-2 border-[#1A1A1A]' : 'opacity-60 hover:opacity-100'} transition`;
        }
      });
    }
    
    // Cart Functions
    async function addToCart(product, quantity = 1, size = '') {
      if (!window.dataSdk) return;
      
      if (dataRecords.length >= 999) {
        showToast('Storage limit reached. Please remove some items.');
        return;
      }
      
      const existingItem = cartItems.find(item => item.product_id === product.id && item.size === size);
      
      if (existingItem) {
        const result = await window.dataSdk.update({
          ...existingItem,
          quantity: existingItem.quantity + quantity
        });
        if (result.isOk) {
          showToast('Cart updated!');
        }
      } else {
        const result = await window.dataSdk.create({
          type: 'cart',
          product_id: product.id,
          name: product.name,
          price: product.price,
          image: product.image,
          category: product.category,
          quantity: quantity,
          size: size,
          added_at: new Date().toISOString()
        });
        if (result.isOk) {
          showToast('Added to cart!');
        }
      }
    }
    
    function quickAddToCart(productId) {
      const product = products.find(p => p.id === productId);
      if (product) {
        addToCart(product, 1, '');
      }
    }
    
    function addToCartFromProductPage() {
      if (!currentProduct) return;
      
      const sizeSelect = document.getElementById('size-select');
      const quantityInput = document.getElementById('quantity-input');
      
      const size = sizeSelect ? sizeSelect.value : '';
      const quantity = quantityInput ? parseInt(quantityInput.value) || 1 : 1;
      
      if (!size) {
        showToast('Please select a size');
        return;
      }
      
      addToCart(currentProduct, quantity, size);
    }
    
    async function updateCartQuantity(itemId, newQuantity) {
      if (!window.dataSdk) return;
      
      const item = cartItems.find(i => i.__backendId === itemId);
      if (!item) return;
      
      if (newQuantity <= 0) {
        await removeFromCart(itemId);
      } else {
        await window.dataSdk.update({ ...item, quantity: newQuantity });
      }
    }
    
    async function removeFromCart(itemId) {
      if (!window.dataSdk) return;
      
      const item = cartItems.find(i => i.__backendId === itemId);
      if (item) {
        await window.dataSdk.delete(item);
        showToast('Removed from cart');
      }
    }
    
    function updateCartUI() {
      const cartCountEl = document.getElementById('cart-count');
      const cartItemsEl = document.getElementById('cart-items');
      const cartEmptyEl = document.getElementById('cart-empty');
      const cartTotalEl = document.getElementById('cart-total');
      const cartFooterEl = document.getElementById('cart-footer');
      
      const totalItems = cartItems.reduce((sum, item) => sum + (item.quantity || 1), 0);
      
      if (cartCountEl) {
        cartCountEl.textContent = totalItems;
        cartCountEl.classList.toggle('hidden', totalItems === 0);
      }
      
      if (cartItemsEl) {
        if (cartItems.length === 0) {
          cartItemsEl.innerHTML = '';
          if (cartEmptyEl) cartEmptyEl.classList.remove('hidden');
          if (cartFooterEl) cartFooterEl.classList.add('hidden');
        } else {
          if (cartEmptyEl) cartEmptyEl.classList.add('hidden');
          if (cartFooterEl) cartFooterEl.classList.remove('hidden');
          
          cartItemsEl.innerHTML = cartItems.map(item => `
            <div class="flex gap-4 pb-4 border-b border-[#1A1A1A]/10">
              <img src="${item.image}" alt="${item.name}" class="w-20 h-20 object-cover bg-[#F5EFE6]" loading="lazy" onerror="this.src=''; this.alt='Image unavailable';">
              <div class="flex-1">
                <h3 class="text-sm font-medium mb-1">${item.name}</h3>
                <p class="text-xs opacity-60 mb-2">${item.size ? `Size: US ${item.size}` : 'No size selected'}</p>
                <div class="flex items-center justify-between">
                  <div class="flex items-center border border-[#1A1A1A]/20">
                    <button onclick="updateCartQuantity('${item.__backendId}', ${(item.quantity || 1) - 1})" class="px-2 py-1 text-sm">-</button>
                    <span class="px-2 text-sm">${item.quantity || 1}</span>
                    <button onclick="updateCartQuantity('${item.__backendId}', ${(item.quantity || 1) + 1})" class="px-2 py-1 text-sm">+</button>
                  </div>
                  <span class="text-sm">$${(item.price * (item.quantity || 1)).toFixed(2)}</span>
                </div>
              </div>
              <button onclick="removeFromCart('${item.__backendId}')" class="p-1 opacity-50 hover:opacity-100">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 18L18 6M6 6l12 12"/></svg>
              </button>
            </div>
          `).join('');
        }
      }
      
      if (cartTotalEl) {
        const total = cartItems.reduce((sum, item) => sum + (item.price * (item.quantity || 1)), 0);
        cartTotalEl.textContent = `$${total.toFixed(2)}`;
      }
    }
    
    // Wishlist Functions
    async function toggleWishlistItem(productId) {
      if (!window.dataSdk) return;
      
      const existingItem = wishlistItems.find(item => item.product_id === productId);
      
      if (existingItem) {
        await window.dataSdk.delete(existingItem);
        showToast('Removed from wishlist');
      } else {
        if (dataRecords.length >= 999) {
          showToast('Storage limit reached');
          return;
        }
        
        const product = products.find(p => p.id === productId);
        if (product) {
          await window.dataSdk.create({
            type: 'wishlist',
            product_id: product.id,
            name: product.name,
            price: product.price,
            image: product.image,
            category: product.category,
            quantity: 1,
            size: '',
            added_at: new Date().toISOString()
          });
          showToast('Added to wishlist!');
        }
      }
      
      // Re-render if on product page to update heart icon
      if (currentPage === 'product' || currentPage === 'home' || currentPage === 'category' || currentPage === 'collection') {
        renderPage();
      }
    }
    
    async function removeFromWishlist(itemId) {
      if (!window.dataSdk) return;
      
      const item = wishlistItems.find(i => i.__backendId === itemId);
      if (item) {
        await window.dataSdk.delete(item);
        showToast('Removed from wishlist');
      }
    }
    
    async function moveToCart(itemId) {
      const item = wishlistItems.find(i => i.__backendId === itemId);
      if (item) {
        const product = products.find(p => p.id === item.product_id);
        if (product) {
          await addToCart(product, 1, '');
          await removeFromWishlist(itemId);
        }
      }
    }
    
    function updateWishlistUI() {
      const wishlistCountEl = document.getElementById('wishlist-count');
      const wishlistItemsEl = document.getElementById('wishlist-items');
      const wishlistEmptyEl = document.getElementById('wishlist-empty');
      
      if (wishlistCountEl) {
        wishlistCountEl.textContent = wishlistItems.length;
        wishlistCountEl.classList.toggle('hidden', wishlistItems.length === 0);
      }
      
      if (wishlistItemsEl) {
        if (wishlistItems.length === 0) {
          wishlistItemsEl.innerHTML = '';
          if (wishlistEmptyEl) wishlistEmptyEl.classList.remove('hidden');
        } else {
          if (wishlistEmptyEl) wishlistEmptyEl.classList.add('hidden');
          
          wishlistItemsEl.innerHTML = wishlistItems.map(item => `
            <div class="flex gap-4 pb-4 border-b border-[#1A1A1A]/10">
              <img src="${item.image}" alt="${item.name}" class="w-20 h-20 object-cover bg-[#F5EFE6]" loading="lazy" onerror="this.src=''; this.alt='Image unavailable';">
              <div class="flex-1">
                <h3 class="text-sm font-medium mb-1">${item.name}</h3>
                <p class="text-sm mb-3">$${item.price}</p>
                <button onclick="moveToCart('${item.__backendId}')" class="text-xs border border-[#1A1A1A] px-3 py-1 hover:bg-[#1A1A1A] hover:text-white transition">
                  ADD TO CART
                </button>
              </div>
              <button onclick="removeFromWishlist('${item.__backendId}')" class="p-1 opacity-50 hover:opacity-100">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 18L18 6M6 6l12 12"/></svg>
              </button>
            </div>
          `).join('');
        }
      }
    }
    
    // Toggle Functions
    function toggleCart() {
      const sidebar = document.getElementById('cart-sidebar');
      sidebar.classList.toggle('hidden');
    }
    
    function toggleWishlist() {
      const sidebar = document.getElementById('wishlist-sidebar');
      sidebar.classList.toggle('hidden');
    }
    
    function toggleProfile() {
      const modal = document.getElementById('profile-modal');
      modal.classList.toggle('hidden');
    }
    
    function toggleSearch() {
      const searchBar = document.getElementById('search-bar');
      const searchInput = document.getElementById('search-input');
      const searchResults = document.getElementById('search-results');
      
      searchBar.classList.toggle('hidden');
      if (!searchBar.classList.contains('hidden')) {
        searchInput.focus();
      } else {
        searchInput.value = '';
        searchResults.classList.add('hidden');
      }
    }
    
    // Search Function
    function handleSearch(query) {
      const searchResults = document.getElementById('search-results');
      
      if (!query.trim()) {
        searchResults.classList.add('hidden');
        return;
      }
      
      const results = products.filter(p => 
        p.name.toLowerCase().includes(query.toLowerCase()) ||
        p.category.toLowerCase().includes(query.toLowerCase())
      );
      
      if (results.length === 0) {
        searchResults.innerHTML = '<div class="p-4 text-sm opacity-60">No products found</div>';
      } else {
        searchResults.innerHTML = results.map(p => `
          <a href="#" onclick="navigateToProduct('${p.id}'); toggleSearch(); return false;" class="flex items-center gap-4 p-4 hover:bg-[#F5EFE6] transition">
            <img src="${p.image}" alt="${p.name}" class="w-12 h-12 object-cover" loading="lazy" onerror="this.src=''; this.alt='Image unavailable';">
            <div>
              <div class="text-sm font-medium">${p.name}</div>
              <div class="text-xs opacity-60">$${p.price}</div>
            </div>
          </a>
        `).join('');
      }
      
      searchResults.classList.remove('hidden');
    }
    
    // Mobile Menu
    document.getElementById('mobile-menu-btn').addEventListener('click', () => {
      document.getElementById('mobile-menu').classList.toggle('hidden');
    });
    
    function closeMobileMenu() {
      document.getElementById('mobile-menu').classList.add('hidden');
    }
    
    // Profile Functions
    function loadProfile() {
      const name = localStorage.getItem('july_profile_name') || '';
      const email = localStorage.getItem('july_profile_email') || '';
      
      const nameInput = document.getElementById('profile-name');
      const emailInput = document.getElementById('profile-email');
      
      if (nameInput) nameInput.value = name;
      if (emailInput) emailInput.value = email;
    }
    
    function saveProfile(e) {
      e.preventDefault();
      
      const name = document.getElementById('profile-name').value;
      const email = document.getElementById('profile-email').value;
      
      localStorage.setItem('july_profile_name', name);
      localStorage.setItem('july_profile_email', email);
      
      showToast('Profile saved!');
    }
    
    // Quantity Functions
    function incrementQuantity() {
      const input = document.getElementById('quantity-input');
      if (input) input.value = parseInt(input.value) + 1;
    }
    
    function decrementQuantity() {
      const input = document.getElementById('quantity-input');
      if (input && parseInt(input.value) > 1) {
        input.value = parseInt(input.value) - 1;
      }
    }
    
    // FAQ Toggle
    function toggleFAQ(index) {
      const content = document.getElementById(`faq-content-${index}`);
      const icon = document.getElementById(`faq-icon-${index}`);
      
      content.classList.toggle('hidden');
      icon.classList.toggle('rotate-180');
    }
    
    // Form Handlers
    function handleNewsletterSubmit(e) {
      e.preventDefault();
      showToast('Thank you for subscribing!');
      e.target.reset();
    }
    
    function handleContactSubmit(e) {
      e.preventDefault();
      const form = e.target;
      const successEl = document.getElementById('contact-success');
      
      form.classList.add('hidden');
      successEl.classList.remove('hidden');
    }
    
    function handleTrackOrder(e) {
      e.preventDefault();
      showToast('Order tracking coming soon!');
    }
    
    function checkout() {
      showToast('Checkout functionality coming soon!');
    }
    
    // Toast Notification
    function showToast(message) {
      const existingToast = document.querySelector('.toast-notification');
      if (existingToast) existingToast.remove();
      
      const toast = document.createElement('div');
      toast.className = 'toast-notification fixed bottom-4 left-1/2 -translate-x-1/2 bg-[#1A1A1A] text-white px-6 py-3 text-sm z-50 fade-in';
      toast.textContent = message;
      document.body.appendChild(toast);
      
      setTimeout(() => toast.remove(), 3000);
    }
    
    // Initialize on load
    init();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9cee980a97fc41e2',t:'MTc3MTI2MTE1MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>